### 网络冗余

网络中，为了保证可靠性（在一个网络设备或一个设备接口发生故障的情况下能够保证网络正常工作）引入了冗余的技术。

冗余的分类：电源冗余、设备冗余、链路冗余、网关冗余

冗余引发的问题：

​	链路冗余和设备冗余引起了二层环路，二层环路的出现会引发下列问题

```
1、广播风暴----当网段中接收到一个广播报文后，交换机会通过各个接口对其进行复制转发（广播），若两个交换机之前形成了环路，复制后的数据包会再次发送给对方交换机，对方交换机会再次复制并从另一条线路发回。以此进行多次操作，便会是整个网段中充斥着大量的广播报文，占用大量的网络带宽，从而降低网络的可用性及可靠性
2、MAC地址表翻滚----从一个端口接收到的数据报文，交换机会对他的源MAC地址进行学习，学习后进行转发。若出现二层环路，发出后，对方交换机会通过另一接口对齐进行转发，从而回到本交换机。数据包从另一个接口学习到，则此MAC记录会被更新。以此类推，再次发送后，该MAC记录再次被更改，以此造成MAC地址表的翻滚
3、对同一数据帧的重复拷贝----广播包的到来会是交换机对其进行拷贝后从各个接口进行转发，在这种情况下，数据包在一次转发中会被拷贝一份。下一次转发会对拷贝的数据包也进行拷贝。从而造成网络内的数据包成指数形式翻倍，如此大量的广播数据包会造成网络的带宽被极大的占用。
```

为了解决二层环路的问题，我们需要对二层环路进行逻辑上的阻隔（若物理上杜绝，则起不到冗余的效果），这里边引入了STP(spanning tree protical)

### STP

STP是一个专门用来解决二层环路的协议，他可以在逻辑上对某些交换机端口进行阻塞，从而在逻辑上杜绝环路的存在。当交换机或交换机端口、线路出现故障时，STP会及时进行重新计算，判断阻塞端口的状态是否应该被改变，从而在杜绝二层环路的状态下保证网络的可靠性。

STP中常用名词：

```
根网桥
	
根端口
指定端口
阻塞端口
```

